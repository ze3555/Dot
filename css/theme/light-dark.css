/* css/theme/light-dark.css
   Theme toggling via body classes: .theme-light / .theme-dark
   — Переменные темы
   — Инвертированные топ-бары (dark topbar в светлой теме, milky topbar в тёмной)
   — DOT не красим из темы (фон убираем), дальше им рулит JS
*/

/* ---------- Плавные переходы ---------- */
body, .top-bar, .contacts-drawer, .contacts-drawer-backdrop,
.bottom-panel, .drawer-trigger, #chat-input,
.drawer-add-btn, .logout-btn, .chat-send-btn {
  transition: background-color .18s cubic-bezier(.2,.8,.2,1),
              color .18s cubic-bezier(.2,.8,.2,1),
              box-shadow .18s cubic-bezier(.2,.8,.2,1),
              border-color .18s cubic-bezier(.2,.8,.2,1);
}

/* ---------- LIGHT THEME ---------- */
body.theme-light {
  /* Базовые токены */
  --bg: #f6f7f9;
  --fg: #111;

  /* Инвертированный топ-бар: тёмный */
  --topbar-bg: #171717;  /* не абсолютный чёрный */
  --topbar-fg: #fff;

  /* Панели/инпуты */
  --panel-bg: #ffffff;
  --panel-fg: #111;
  --panel-shadow: 0 6px 28px rgba(0,0,0,0.10);
  --panel-border: 1px solid rgba(0,0,0,0.06);
  --backdrop: rgba(0,0,0,0.15);

  --input-bg: #f1f1f3;
  --input-fg: #111;
  --input-border: 1px solid rgba(0,0,0,0.12);
  --input-ph: rgba(0,0,0,0.45);
  --input-focus-ring: 0 0 0 3px rgba(17,17,17,0.12);

  --btn-bg: #111;
  --btn-fg: #fff;
  --btn-bg-hover: #333;

  background: var(--bg);
  color: var(--fg);
}

/* ---------- DARK THEME ---------- */
body.theme-dark {
  /* Базовые токены */
  --bg: #121315; /* чуть «теплее» темный фон */
  --fg: #fff;

  /* Инвертированный топ-бар: «молочный» */
  --topbar-bg: #f2f2f3;  /* off-white */
  --topbar-fg: #111;

  /* Панели/инпуты */
  --panel-bg: #161616;
  --panel-fg: #fff;
  --panel-shadow: 0 6px 28px rgba(0,0,0,0.45);
  --panel-border: 1px solid rgba(255,255,255,0.06);
  --backdrop: rgba(0,0,0,0.45);

  --input-bg: #1e1f21;
  --input-fg: #fff;
  --input-border: 1px solid rgba(255,255,255,0.16);
  --input-ph: rgba(255,255,255,0.55);
  --input-focus-ring: 0 0 0 3px rgba(255,255,255,0.14);

  --btn-bg: #fff;
  --btn-fg: #000;
  --btn-bg-hover: #e9e9e9;

  background: var(--bg);
  color: var(--fg);
}

/* ---------- Топ-бар (инверсия по темам) ---------- */
.top-bar {
  background: var(--topbar-bg);
  color: var(--topbar-fg);
  box-shadow: 0 2px 6px rgba(0,0,0,0.10);
}

/* ---------- DOT: не красим, убираем фон, чтобы JS управлял динамикой ---------- */
.top-bar .dot-core,
.dot-core {
  background: transparent; /* перекрывает жёлтый дефолт, если где-то был */
  /* color не задаём — автоконтраст/JS решат */
}

/* ---------- Drawer ---------- */
.contacts-drawer {
  background: var(--panel-bg);
  color: var(--panel-fg);
  box-shadow: var(--panel-shadow);
  border-right: var(--panel-border);
}

.contacts-drawer-backdrop {
  background: var(--backdrop);
}

/* Desktop trigger-стрелка слева */
.drawer-trigger {
  background: color-mix(in oklab, var(--panel-bg), transparent 10%);
  color: var(--panel-fg);
  box-shadow: 0 2px 8px rgba(0,0,0,0.10);
  border: 1px solid color-mix(in oklab, var(--panel-fg), transparent 92%);
}

/* Кнопки в дровере */
.drawer-add-btn,
.logout-btn {
  background: var(--btn-bg);
  color: var(--btn-fg);
  border: 1px solid var(--btn-bg);
}
.drawer-add-btn:hover,
.logout-btn:hover {
  background: var(--btn-bg-hover);
  border-color: var(--btn-bg-hover);
}

/* ---------- Bottom panel / Composer ---------- */
.bottom-panel {
  background: var(--panel-bg);
  color: var(--panel-fg);
  box-shadow: 0 -1px 8px rgba(0,0,0,0.12);
  border-top: var(--panel-border);
}

/* Инпут сообщений */
#chat-input,
.chat-input {
  background: var(--input-bg);
  color: var(--input-fg);
  border: var(--input-border);
}
#chat-input::placeholder,
.chat-input::placeholder {
  color: var(--input-ph);
}
#chat-input:focus,
.chat-input:focus {
  outline: none;
  border-color: currentColor;
  box-shadow: var(--input-focus-ring);
}

/* Кнопка отправки (если видима) */
.chat-send-btn {
  background: var(--btn-bg);
  color: var(--btn-fg);
  border: 1px solid var(--btn-bg);
}
.chat-send-btn:hover {
  background: var(--btn-bg-hover);
  border-color: var(--btn-bg-hover);
}