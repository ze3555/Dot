/* DOT shape + states (circle → rect → capsule → square) */
:root {
  --dot-size: 64px;
  --dot-radius: 999px;
  --dot-bg: var(--surface-2, #151515);
  --dot-fg: var(--text, #fff);
  --dot-shadow: 0 8px 24px rgba(0,0,0,.25);
  --transition-fast: 150ms ease;
  --transition-med: 260ms cubic-bezier(.2,.8,.2,1);
}

/* host */
#dot-core {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;

  display: grid;
  place-items: center;
  width: var(--dot-size);
  height: var(--dot-size);
  background: var(--dot-bg);
  color: var(--dot-fg);
  border-radius: var(--dot-radius);
  box-shadow: var(--dot-shadow);
  transition:
    width var(--transition-med),
    height var(--transition-med),
    border-radius var(--transition-med),
    transform var(--transition-med),
    background var(--transition-fast),
    color var(--transition-fast),
    box-shadow var(--transition-fast);
  overflow: hidden;
  cursor: pointer;
  will-change: width, height, border-radius, transform;
}

/* morph tick on state change */
#dot-core.dot-morph {
  animation: dotMorph 220ms cubic-bezier(.2,.8,.2,1);
}
@keyframes dotMorph {
  from { transform: translate(-50%, -50%) scale(.98) }
  to   { transform: translate(-50%, -50%) scale(1) }
}

/* theme pulse */
#dot-core.dot-pulse {
  animation: dotPulse 240ms ease-out;
}
@keyframes dotPulse {
  0%   { box-shadow: 0 0 0 0 color-mix(in oklab, var(--dot-fg), transparent 70%), var(--dot-shadow) }
  60%  { box-shadow: 0 0 0 10px color-mix(in oklab, var(--dot-fg), transparent 90%), var(--dot-shadow) }
  100% { box-shadow: var(--dot-shadow) }
}

/* idle: circle */
#dot-core.dot-idle {
  width: var(--dot-size);
  height: var(--dot-size);
  border-radius: 999px;
}

/* menu: rounded rectangle (panel for 4 buttons) */
#dot-core.dot-menu {
  width: min(92vw, 560px);
  height: 72px;
  border-radius: 18px;
  padding: 8px;
  cursor: default;
}

/* contacts: capsule (search bar) */
#dot-core.dot-contacts {
  width: min(94vw, 640px);
  height: 56px;
  border-radius: 999px;
  padding: 6px 10px;
}

/* settings / function: square ~50vh */
#dot-core.dot-settings,
#dot-core.dot-function {
  width: min(92vw, 560px);
  height: min(50vh, 520px);
  border-radius: 16px;
  padding: 12px;
}

/* THEME = same sizing as MENU (alias) */
#dot-core.dot-theme {
  width: min(92vw, 560px);
  height: 72px;
  border-radius: 18px;
  padding: 8px;
  cursor: default;
}

/* inner content host */
.dot-content {
  width: 100%;
  height: 100%;
  display: grid;
  align-items: center;
}

/* unified content swap animation */
.dot-swap-in {
  animation: dotSwapIn .22s cubic-bezier(.2,.8,.2,1) both;
}
@keyframes dotSwapIn {
  from { opacity: 0; transform: translateY(6px) }
  to   { opacity: 1; transform: translateY(0) }
}