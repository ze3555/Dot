:root{
  --dot-size:64px;
  --dot-radius:999px;
  --dot-bg:var(--surface-2,#151515);
  --dot-fg:var(--text,#fff);
  --dot-shadow:0 8px 24px rgba(0,0,0,.25);
  --dot-glow:0 0 12px color-mix(in oklab,var(--dot-fg),transparent 60%);
  --transition-fast:150ms ease;
  --transition-med:260ms cubic-bezier(.2,.8,.2,1);

  /* Вертикальное меню (4 кнопки) */
  --menu-vert-count:4;
  --menu-vert-btn-h:40px;
  --menu-vert-gap:6px;
  --menu-vert-pad:8px;
  --menu-vert-h:calc(
    var(--menu-vert-pad)*2 +
    var(--menu-vert-btn-h)*var(--menu-vert-count) +
    var(--menu-vert-gap)*(var(--menu-vert-count) - 1)
  );
}

/* DOT host */
#dot-core{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  z-index:10; display:grid; place-items:center;
  width:var(--dot-size); height:var(--dot-size);
  background:var(--dot-bg); color:var(--dot-fg); border-radius:var(--dot-radius);
  box-shadow:var(--dot-shadow), var(--dot-glow);
  transition:
    width var(--transition-med), height var(--transition-med),
    border-radius var(--transition-med), transform var(--transition-med),
    background var(--transition-fast), color var(--transition-fast),
    box-shadow var(--transition-fast), left var(--transition-med), top var(--transition-med), opacity var(--transition-fast);
  overflow:hidden; cursor:pointer; will-change:width,height,border-radius,transform,left,top,box-shadow;
  touch-action:none; -webkit-user-select:none; user-select:none; -webkit-touch-callout:none;
}
#dot-core *{ -webkit-user-select:none; user-select:none; -webkit-touch-callout:none }
.no-select, .no-select *{ -webkit-user-select:none!important; user-select:none!important; -webkit-touch-callout:none!important }

#dot-core:hover{
  box-shadow:var(--dot-shadow),
    0 0 16px color-mix(in oklab,var(--dot-fg),transparent 40%),
    0 0 32px color-mix(in oklab,var(--dot-fg),transparent 60%);
}

/* Animations */
#dot-core.dot-morph{ animation:dotMorph 220ms cubic-bezier(.2,.8,.2,1) }
@keyframes dotMorph{ from{ transform:translate(-50%,-50%) scale(.98) } to{ transform:translate(-50%,-50%) scale(1) } }
#dot-core.dot-pulse{ animation:dotPulse 240ms ease-out }
@keyframes dotPulse{
  0%{ box-shadow:var(--dot-shadow),var(--dot-glow) }
  60%{ box-shadow:var(--dot-shadow), 0 0 20px color-mix(in oklab,var(--dot-fg),transparent 30%), 0 0 40px color-mix(in oklab,var(--dot-fg),transparent 50%) }
  100%{ box-shadow:var(--dot-shadow),var(--dot-glow) }
}

/* States */
#dot-core.dot-idle{ width:var(--dot-size); height:var(--dot-size); border-radius:999px }

/* Горизонтальное меню/тема (центр) */
#dot-core.dot-menu:not(.dot-vert),
#dot-core.dot-theme:not(.dot-vert){
  width:min(92vw,560px); height:72px; border-radius:18px; padding:8px; cursor:default;
}

/* Вертикальное меню/тема (у края): узкое, как ширина Дота, и влезает по высоте экрана */
#dot-core.dot-menu.dot-vert,
#dot-core.dot-theme.dot-vert{
  width: calc(var(--dot-size) * 1.6); /* шире для текста */
  max-width: calc(100vw - 16px);      /* ограничение по правой границе */
  height: min(var(--menu-vert-h), calc(100vh - 16px));
  border-radius: 16px;
  padding: var(--menu-vert-pad);
  cursor: default;
}

/* Contacts / Settings (без изменений) */
#dot-core.dot-contacts{ width:min(94vw,640px); height:56px; border-radius:999px; padding:6px 10px }
#dot-core.dot-settings{ width:min(92vw,560px); height:min(50vh,520px); border-radius:16px; padding:12px }

/* Content host */
.dot-content{ width:100%; height:100%; display:grid; align-items:center }
.dot-swap-in{ animation:dotSwapIn .22s cubic-bezier(.2,.8,.2,1) both }
@keyframes dotSwapIn{ from{ opacity:0; transform:translateY(6px) } to{ opacity:1; transform:none } }

/* Drag/Dock */
#dot-core.dot-free{ transform:translate(0,0) }
#dot-core.dot-docked{ transform:translate(0,0) scale(.94); opacity:.92 }
#dot-core.dot-docked:hover{ opacity:1 }
:root{
  /* ...остальное как есть... */
  --dot-stroke: 1px solid color-mix(in oklab, var(--dot-fg), transparent 86%);
}

/* host */
#dot-core{
  /* ... */
  border: var(--dot-stroke);                /* тонкий обвод, чтобы glow не «срезало» экраном */
  backdrop-filter: saturate(120%) blur(0px); /* лёгкий punch (без сильного blur) */
}

/* вертикальное меню у края — чуть «воздуха» снизу под iOS бар */
#dot-core.dot-menu.dot-vert,
#dot-core.dot-theme.dot-vert{
  height: min(var(--menu-vert-h), calc(100vh - 16px - env(safe-area-inset-bottom)));
  box-shadow:
    0 12px 36px rgba(0,0,0,.35),
    0 0 20px color-mix(in oklab, var(--dot-fg), transparent 65%); /* мягче glow */
}
#dot-core.dot-docked.dot-expanding{ transform:translate(0,0) scale(1); opacity:1 }
/* ...остальной файл без изменений... */

/* host (центр по умолчанию) */
#dot-core {
  /* ...твои свойства... */
  box-sizing: border-box; /* <<< чтобы ширина учитывала padding/border и не вылезала на iOS */
}