/* DOT Core — минимальные и безопасные стили.
   Ничего не знает о размерах и позиционировании — только поведение/визуальные токены. */

.dot-core {
  /* Базовая интерактивность */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  touch-action: none;            /* жесты без лагов; JS тоже дублирует */

  /* Цвета — строго через currentColor (JS ставит ч/б).
     Можно переопределить через CSS-переменные при желании. */
  color: var(--dot-core-fg, currentColor);
  background: var(--dot-core-bg, transparent);
  border: 1px solid var(--dot-core-border, currentColor);

  /* Форма: уважает внешний radius (капсула/круг приходит от контейнера/темы) */
  border-radius: inherit;

  /* Мягкие переходы, отключаемые на драге */
  transition:
    box-shadow .15s ease,
    border-color .15s ease,
    transform .15s ease,
    opacity .15s ease,
    background-color .15s ease,
    color .1s linear;
}

/* Во время перетаскивания – никаких анимаций */
.dot-core.is-dragging {
  transition: none !important;
  cursor: grabbing;
}

/* Ховер/активация — очень деликатно, чтобы не мешать автоконтрасту */
.dot-core:hover { opacity: 0.95; }
.dot-core:active { transform: translateY(1px); }

/* Доступность: фокус-обводка на currentColor (ч/б из JS) */
.dot-core:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Встроенные SVG и иконки используют currentColor,
   чтобы автоконтраст работал без спец-стилей внутри. */
.dot-core svg {
  fill: currentColor;
  stroke: currentColor;
}

/* Если внутри есть текстовые/иконные элементы, не ломаем клики по ним */
.dot-core > * {
  pointer-events: auto;
}

/* Опционально: если DOT внизу докуется и нужно его выровнять без лишних костылей */
.bottom-panel > .dot-core {
  justify-self: end;   /* DOT справа в верхнем ярусе — см. bottom-panel.css */
  align-self: center;
}